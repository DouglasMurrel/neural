Установка системы

1. Клонировать систему из репозитория `https://github.com/DouglasMurrel/neural.git`
Скопировать `.env` в `.env.local` и в нем настроить параметры базы данных и почты.
2. Выполнить `composer install` и настроить веб-сервер, чтобы его корень соответствовал директории `public` проекта
3. Создать базу данных, затем создать в ней таблицы с помощью миграции: `php bin/console doctrine:migrations:migrate`
4. Создать рейсы, на которые будут бронироваться билеты. Это делается консольной командой `php bin/console flight:fill <id>`, где `<id>` - id рейса. Если рейс уже существует, будет выдана ошибка.
При этом в таблицу будут вставлены строки, соответствующие каждому месту. Я решил, что такая модель наиболее выгодна с точки зрения производительности, поскольку при выполнении определенных команд придется искать первое незанятое место в рейсе, и это наиболее удобно делать, если информация обо всех местах уже загружена в БД.
5. Зарегистровать пользователей системы. Это делается отправкой на адрес `https://servername/register` POST-запроса с телом
```
{"email":"<email>","password":"<password>"}
```
Здесь `email` - реальный адрес пользователя, а `password` - пароль, который будет использоваться для выполнения команд.

В дальнейшем, когда пойдет речь об отправке запроса к api, я буду писать только часть url, не включающую имя сервера. То есть, например, если написан url `/api/booking`, то имеется в виду, что запрос должен быть отправлен на `https://servername/api/booking`.

Замечу, что мне пока что не удалось штатным образом настроить аутентификацию через api методом Bearer с применением JWT-токена - рецепты, найденные в интернете, не сработали. Поэтому аутентификация в проекте призводится прямо в методах контроллера.

Каждый запрос к api должен быть отправлен методом POST и содержать в теле такой же json-объект, который использовался для регистрации пользователя:
```
{"email":"<email>","password":"<password>"}
```
Если эти параметры указаны неверно, будет возвращено сообщение об ошибке аутентификации.

Методы отличаются адресом, на который отправляются.

1. `/api/booking/{flightId}`

Бронирует первое незанятое место на рейс flightId.
В случае успеха возвращает объект `{"status":200,"success":id}`, где `id` - номер заказа в системе.

2. `/api/booking/{flightId}/{seatId}`

Бронирует место seatId на рейс flightId.
В случае успеха возвращает объект `{"status":200,"success":id}`, где `id` - номер заказа в системе.

3. `/api/cancel_booking/{id}`

Отменяет указанное бронирование. Обратите внимание, что `id` - номер заказа в системе, а не номер места на рейсе!

В случае успеха возвращает объект `{"status":200,"success":id}`, где `id` - номер отмененного заказа в системе.   

4. `/api/buy_ticket/{flightId}`

Покупает билет на первое незанятое место на рейс flightId.
В случае успеха возвращает объект `{"status":200,"success":id}`, где `id` - номер заказа в системе.

5. `/api/buy_ticket/{flightId}/{seatId}`

Покупает билет на seatId на рейс flightId.
В случае успеха возвращает объект `{"status":200,"success":id}`, где `id` - номер заказа в системе.

6. `/api/cancel_ticket/{id}`

Возвращает указанный билет. Обратите внимание, что `id` - номер заказа в системе, а не номер места на рейсе!

В случае успеха возвращает объект `{"status":200,"success":id}`, где `id` - номер отмененного заказа в системе.

Если при вызове любого метода API произошла ошибка, возвращается объект `{"status":<code>,"errors":<message>}`
